<div class="card">
    <div class="card-header">
        <h4><i class="fas fa-cog fa-fw"></i> Administración de unidades de medida</h4>
    </div>
    <div class="card-body">
        <dx-data-grid [remoteOperations]="true" [allowColumnResizing]="true" [columnHidingEnabled]="true"
            [rowAlternationEnabled]="true" [dataSource]="dataSource"
            (onContentReady)="dxDataGridOptions.onContentReady($event)"
            (onExporting)="dxDataGridOptions.onExporting($event)">
            <dxo-export [enabled]="true" [allowExportSelectedData]="true"></dxo-export>
            <dxo-search-panel [visible]="true" applyFilter="auto"></dxo-search-panel>
            <dxo-pager [showPageSizeSelector]="true" [allowedPageSizes]="[20, 50, 100]" [showInfo]="true"></dxo-pager>
            <dxo-selection mode="multiple" [allowSelectAll]="true" selectAllMode="page"
                showCheckBoxesMode="onClick"></dxo-selection>
            <dxo-column-chooser [enabled]="true" mode="select"></dxo-column-chooser>
            <dxo-header-filter [visible]="true"></dxo-header-filter>
            <dxi-column dataField="FechaRegistro" caption="Fecha de registro" dataType="date" format="dd/MM/yyyy HH:mm"
                sortOrder="desc" [allowHeaderFiltering]="false" [width]="180" [hidingPriority]="3"></dxi-column>
            <dxi-column dataField="Abreviacion" caption="Abreviación" dataType="string" [width]="200"></dxi-column>
            <dxi-column dataField="Nombre" caption="Nombre" dataType="string" [width]="200" [hidingPriority]="4"></dxi-column>
            <dxi-column dataField="Descripcion" caption="Descripción" dataType="string"
                [hidingPriority]="2"></dxi-column>
            <dxi-column caption="OPC" name="opciones" [allowExporting]="false" [allowFiltering]="false"
                [allowResizing]="false" [allowSorting]="false" [width]="50" type="buttons">
                <dxi-button icon="menu" [onClick]="dxDataGridOptions.onOpcClick"></dxi-button>
            </dxi-column>
            <dxo-toolbar>
                <dxi-item location="before">
                    <div *dxTemplate class="informer">
                        <h2 class="count">{{dxDataGridOptions.totalCount}}</h2>
                        <span class="name">Registros</span>
                    </div>
                </dxi-item>
                <dxi-item locateInMenu="auto" location="after" showText="inMenu">
                    <div *dxTemplate>
                        <dx-button text="Recargar" icon="fa-solid fa-sync" hint="Recargar"
                            (onClick)="dataGrid.instance.refresh()"></dx-button>
                    </div>
                </dxi-item>
                <dxi-item locateInMenu="auto" location="after" showText="inMenu">
                    <div *dxTemplate>
                        <dx-button text="Nuevo" icon="fa-solid fa-plus" hint="Nuevo"
                            (onClick)="dxDataGridOptions.onRegistrarClick()"></dx-button>
                    </div>
                </dxi-item>
                <dxi-item name="exportButton"></dxi-item>
                <dxi-item name="columnChooserButton"></dxi-item>
                <dxi-item name="searchPanel"></dxi-item>
            </dxo-toolbar>
        </dx-data-grid>
        <dx-action-sheet [items]="dxActionSheetOptions.items" [title]="dxActionSheetOptions.title"
            [usePopover]="dxActionSheetOptions.usePopover" [(visible)]="dxActionSheetOptions.visible"
            [target]="dxActionSheetOptions.target" (onItemClick)="dxActionSheetOptions.onItemClick($event)"
            [width]="230">
        </dx-action-sheet>
        <dx-popup [(visible)]="formularioOptions.visible" [title]="formularioOptions.title" height="auto" [width]="768" 
        [deferRendering]="false" [showCloseButton]="false">
            <app-unidades-medida-formulario [soloLectura]="formularioOptions.soloLectura" [model]="formularioOptions.model"
            (onSalir)="formularioOptions.onSalir()" (onGuardar)="guardarUnidad($event)"
            [unidadMedidaId]="formularioOptions.unidadMedidaId"></app-unidades-medida-formulario>
        </dx-popup>
        <!--<app-dx-data-grid-default [dataSource]="dataSource">-->
        <!-- { dataField: 'FechaRegistro', caption: 'Fecha de registro', dataType: 'date', format: 'dd/MM/yyyy HH:mm', sortOrder: 'desc', allowHeaderFiltering: false, width: 150, hidingPriority: 3 },
            { dataField: 'Abreviacion', caption: 'Abreviación', dataType: 'string', width: 100, hidingPriority: 1, allowHeaderFiltering: false },
            { dataField: 'Nombre', caption: 'Nombre', dataType: 'string', width: 200, allowHeaderFiltering: false},
            { dataField: 'Descripcion', caption: 'Descripción', dataType: 'string', hidingPriority: 2, allowHeaderFiltering: false}
              {
     caption: 'Opc',
     name: 'opciones',
     allowExporting: false,
     allowFiltering: false,
     allowHiding: false,
     allowResizing: false,
     allowSorting: false,
     width: 50,
     type: 'buttons'-->
        <!--</app-dx-data-grid-default>-->
    </div>
</div>